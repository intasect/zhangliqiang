/*
  This class has been generated by the Code Generator
*/

package com.laiyifen.shop;

import com.cordys.cpc.bsf.busobject.BusObjectConfig;
import com.cordys.cpc.bsf.busobject.BusObjectIterator;
import com.cordys.cpc.bsf.busobject.QueryObject;
import com.eibus.util.logger.CordysLogger;
import com.eibus.util.logger.Severity;
import com.laiyifen.shop.MATERIAL_AVER_PRICE;
import com.laiyifen.shop.SHOP_PROMOTIONAL_DETAIL;


public class MATERIAL_AVER_PRICE extends MATERIAL_AVER_PRICEBase
{
	private static CordysLogger logger = CordysLogger.getCordysLogger(MATERIAL_AVER_PRICE.class);
	
    public MATERIAL_AVER_PRICE()
    {
        this((BusObjectConfig)null);
    }

    public MATERIAL_AVER_PRICE(BusObjectConfig config)
    {
        super(config);
    }

    public static BusObjectIterator<com.laiyifen.shop.MATERIAL_AVER_PRICE> getCompanyMaterialAverPriceObjects()
    {
    	logger.log(Severity.INFO, "getSelectMaterialAverPriceObjects--查询移动平均价--开始", null);
    	
    	StringBuffer strBuf = new StringBuffer();
    	strBuf.append("select * " +
    			"from \"MATERIAL_AVER_PRICE\" where  \"COMPANYCODE\" = '2000'");
    	
        QueryObject query = new QueryObject(strBuf.toString());
        
        query.setResultClass(MATERIAL_AVER_PRICE.class);
        
    	logger.log(Severity.INFO, "getSelectMaterialAverPriceObjects--查询移动平均价--结束", null);
    	return query.getObjects();
    }

    /**
     * 通过查询条件获取装修设计审核相关信息
     * @param shopId	新开店流程标示
     * @return MATERIAL_AVER_PRICE对象
     */
    public static BusObjectIterator<com.laiyifen.shop.MATERIAL_AVER_PRICE> getSelectMaterialAverPriceObjects(String formId, com.cordys.cpc.bsf.query.Cursor cursor)
    {

    	logger.log(Severity.INFO, "getSelectMaterialAverPriceObjects--查询移动平均价--开始", null);
    	
    	StringBuffer strBuf = new StringBuffer();
    	strBuf.append("select * " +
    			"from \"MATERIAL_AVER_PRICE\" where \"PRODUCT_CODE\" not in (select PRODUCT_CODE from \"SHOP_MATERIAL_STATUS_DETAIL\" " +
    			"where \"FORM_ID\" =:formId )");
    
        
        QueryObject query = new QueryObject(strBuf.toString());
        
  
        query.addParameter("formId", "SHOP_MATERIAL_STATUS_DETAIL.FORM_ID", QueryObject.PARAM_STRING, formId);
        
        
        query.setResultClass(MATERIAL_AVER_PRICE.class);
        query.setCursor(cursor);
        
        
    	logger.log(Severity.INFO, "getSelectMaterialAverPriceObjects--查询移动平均价--结束", null);
    	return query.getObjects();
    }

}
